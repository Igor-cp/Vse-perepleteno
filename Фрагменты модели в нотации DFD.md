DFD 0 уровня (Контекстная диаграмма)
``` mermaid
flowchart TD
    subgraph "DFD 0 уровня: Контекстная диаграмма"
        direction TB
        
        Admin[Администратор<br>школы] -->|Учебные планы,<br>списки классов| System
        Teacher[Учитель] -->|Оценки, отметки<br>посещаемости, ДЗ| System
        System -->|Отчеты, статистика| Authorities[Органы управления<br>РОНО/Департамент]
        System -->|Уведомления, оценки,<br>расписание, ДЗ| Users[Родители и<br>ученики]
        
        System{ЭЛЕКТРОННЫЙ ЖУРНАЛ ШКОЛЫ<br>Обработка и управление<br>учебными данными школы}
    end
```
Комментарий: На контекстной диаграмме показаны основные внешние сущности и потоки данных между ними и системой "Электронный журнал". Администратор предоставляет структуру учебного процесса, учителя вводят учебные данные, система генерирует отчеты для органов управления и уведомления для родителей и учеников.

DFD 1 уровня: Процесс "Ведение учебного процесса"

``` mermaid
flowchart TD
    subgraph "DFD 1: Ведение учебного процесса"
        direction LR
        
        Admin[Администратор] -->|Учебные планы,<br>списки учеников| P1_1
        P1_1[1.1<br>Создание<br>учебных структур] -->|Классы, предметы| D1[БД: Учебный план]
        D1 -->|Данные о классах| P1_2
        P1_2[1.2<br>Назначение<br>учителей] -->|Привязки| D2[БД: Назначения<br>учителей]
        D2 -->|Данные о нагрузке| P1_3
        P1_3[1.3<br>Формирование<br>расписания] -->|Расписание уроков| D3[БД: Расписание]
    end
```

Комментарий: Процесс демонстрирует последовательность создания учебной структуры: от определения классов и предметов через назначение педагогического состава до формирования окончательного расписания. Каждый этап сохраняет результаты в соответствующие хранилища данных.

DFD 1 уровня: Процесс "Оценивание и контроль"
``` mermaid
flowchart TD
    subgraph "DFD 2: Оценивание и контроль"
        direction TB
        
        Teacher[Учитель] -->|Оценки, отметки| P2_1
        Schedule[БД: Расписание] -->|Текущий урок,<br>класс, предмет| P2_1
        
        P2_1[2.1<br>Выставление оценок<br>и отметок посещаемости] -->|Оценки| D4[БД: Оценки]
        Teacher -->|Текст заданий| P2_2
        P2_2[2.2<br>Ввод домашних<br>заданий] -->|ДЗ| D5[БД: Домашние задания]
        Teacher -->|Пояснения| P2_3
        P2_3[2.3<br>Добавление<br>комментариев] -->|Замечания| D6[БД: Комментарии]
        
        D4 & D5 & D6 -->|Новые записи| P4[4.0 Обработка<br>событий]
        P4 -->|Автоматические<br>уведомления| Users[Родители и ученики]
    end
```
Комментарий: Процесс показывает основные действия учителя: выставление оценок (с проверкой соответствия расписанию), ввод домашних заданий и добавление комментариев. Все данные сохраняются в БД и триггерируют процесс автоматических уведомлений для родителей и учеников.

DFD 1 уровня: Процесс "Автоматические уведомления"
``` mermaid
flowchart TD
    subgraph "DFD 4: Автоматические уведомления"
        direction LR
        
        DB_EVENTS[(БД: События<br>Оценки, ДЗ, Комментарии)] -->|Новые/измененные записи| P4_0
        
        P4_0[4.0 Обработка событий<br>для уведомлений]
        
        P4_0 --> P4_1
        P4_1[4.1 Определение типа<br>события и важности] -->|Классификация| P4_2
        P4_2[4.2 Определение<br>получателей] -->|Запрос| SETTINGS[БД: Настройки<br>уведомлений]
        SETTINGS -->|Список получателей,<br>каналы связи| P4_3
        P4_3[4.3 Формирование<br>текста сообщения] -->|Персонализированные<br>сообщения| P4_4
        P4_4[4.4 Отправка через<br>выбранный канал] -->|Сообщения| SERVICES[Внешние службы<br>доставки]
        
        SERVICES -->|Email| Email[Родители/ученики<br>по email]
        SERVICES -->|SMS| SMS[Родители по SMS]
        SERVICES -->|Push| Push[Пользователи<br>мобильного приложения]
    end
```
Комментарий: Процесс автоматических уведомлений реагирует на изменения в БД. События классифицируются, определяются получатели и предпочтительные каналы связи, формируются персонализированные сообщения и отправляются через внешние службы доставки.
